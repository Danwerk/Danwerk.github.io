<!DOCTYPE html>
<html>
<meta charset="utf-8">
<body>

<canvas id="canvas" width="690" height="690"
style="border:4px solid #c3c3c3;">

</canvas>




<p id="demo"></p>

<script>

var ctx = canvas.getContext("2d");
     

document.getElementById("canvas").addEventListener("click", function(event) {
  onClick(event);
});
var lastMove = 'x';
var BlocksOfGame = ['', '', '', '', '', '', '', '', ''];
function calcBlockFromCoordinates(x, y) {
if (x < 235 && y < 235){
return 0;
}

else if (x > 465 && y < 235){
return 2;}

else if (x > 235 && x < 465 && y < 235){
return 1;}



else if (x < 235 && y > 465){
return 6;}

else if (x > 465 && y > 465){
return 8;}

else if (x > 235 && x < 465 && y > 465){
return 7;}



else if (x < 235 && y > 235 && y < 465){
return 3;}

else if (x > 465 && y > 235 && y < 465){
return 5;}

else{
(x > 235 && x < 465 && y > 235 && y < 465)
return 4;
}


}



function onClick(e) {
function drawX(x, y) {
ctx.beginPath();
ctx.moveTo(x + -35, y + -35);
ctx.lineTo(x + 35, y + 35);
ctx.moveTo(x + -35, y + 35);
ctx.lineTo(x + 35, y + -35);
ctx.stroke();
}

  
  function drawO(x, y, r) {
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI * 2, true);
  ctx.stroke();
}
  
  var x = e.x - canvas.offsetLeft;
  var y = e.y - canvas.offsetTop;
  
   if (x < 235)
x = 115;
else if (x > 465)
x = 580;
else 
x = 350

  if (y < 230)
y = 115;
else if (y > 465)
y = 580;
else 
y = 350

var block = calcBlockFromCoordinates(x, y);
if (BlocksOfGame[block] != '') {
return;

}
	
	
 if (lastMove == 'x') {
lastMove = 'o';
drawO(x, y, 50)
} else {
lastMove = 'x';
drawX(x, y);
 
}
 

BlocksOfGame[block] = lastMove;

if (BlocksOfGame[0] == 'x' && BlocksOfGame[1] == 'x' && BlocksOfGame[2] == 'x') {
ctx.beginPath();
ctx.moveTo(0, 115);
ctx.lineTo(700, 115);
ctx.lineWidth = 5;
ctx.strokeStyle = 'red';
ctx.stroke();
}

else if (BlocksOfGame[0] == 'o' && BlocksOfGame[1] == 'o' && BlocksOfGame[2] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[3] == 'x' && BlocksOfGame[4] == 'x' && BlocksOfGame[5] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[3] == 'o' && BlocksOfGame[4] == 'o' && BlocksOfGame[5] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[6] == 'x' && BlocksOfGame[7] == 'x' && BlocksOfGame[8] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[6] == 'o' && BlocksOfGame[7] == 'o' && BlocksOfGame[8] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[0] == 'x' && BlocksOfGame[3] == 'x' && BlocksOfGame[6] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[0] == 'o' && BlocksOfGame[3] == 'o' && BlocksOfGame[6] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[1] == 'x' && BlocksOfGame[4] == 'x' && BlocksOfGame[7] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[1] == 'o' && BlocksOfGame[4] == 'o' && BlocksOfGame[7] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[2] == 'x' && BlocksOfGame[5] == 'x' && BlocksOfGame[8] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[2] == 'o' && BlocksOfGame[5] == 'o' && BlocksOfGame[8] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[0] == 'x' && BlocksOfGame[4] == 'x' && BlocksOfGame[8] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[0] == 'o' && BlocksOfGame[4] == 'o' && BlocksOfGame[8] == 'o') {
alert(' o win, congrats!');
}

else if (BlocksOfGame[2] == 'x' && BlocksOfGame[4] == 'x' && BlocksOfGame[6] == 'x') {
alert(' x win, congrats!');
}

else if (BlocksOfGame[2] == 'o' && BlocksOfGame[4] == 'o' && BlocksOfGame[6] == 'o') {
alert(' o win, congrats!');
}


}


ctx.beginPath();
ctx.moveTo(230, 0);
ctx.lineTo(230, 700);
ctx.moveTo(460, 0);
ctx.lineTo(460, 700);
ctx.moveTo(0, 230);
ctx.lineTo(690, 230);
ctx.moveTo(0, 460);
ctx.lineTo(690, 460);
ctx.stroke();


</script>
<button onclick="onClick()">Start game</button>
</body>
</html>
